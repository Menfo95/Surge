#!name= Personal Setup
#!desc= General,Replica,Proxy,Proxy Group,Rule,Host

[General]
# INTERNET 測試 URL
internet-test-url = http://wifi.vivo.com.cn/generate_204
# 代理測速 URL
proxy-test-url = http://cp.cloudflare.com/generate_204
# 測試超時（秒）
test-timeout = 5
loglevel = notify
hide-vpn-icon = true
skip-proxy = 127.0.0.1,192.168.0.0/16,10.0.0.0/8,172.16.0.0/12,100.64.0.0/10,localhost,*.local,e.crashlytics.com,captive.apple.com,::ffff:0:0:0:0/1,::ffff:128:0:0:0/1,passenger.t3go.cn
allow-wifi-access = false
ipv6 = true
network-framework = false
wifi-assist = false
use-local-host-item-for-proxy = false
dns-server = 101.101.101.101, 1.1.1.1, 8.8.8.8, 223.5.5.5, 223.6.6.6, 119.28.28.28, 119.29.29.29
bypass-system = true
# DNS設置或根據自己網絡情況進行相應設置
bypass-tun = 192.168.0.0/16,10.0.0.0/8,172.16.0.0/12
tls-provider = openssl
# Always Real IP Hosts
# 當 Surge VIF 處理 DNS 問題時，此選項要求 Surge 返回一個真正的 IP 地址，而不是一個假 IP 地址。
# DNS 數據包將被轉發到上游 DNS 服務器。
always-real-ip = msftconnecttest.com, msftncsi.com, *.msftconnecttest.com, *.msftncsi.com, *.srv.nintendo.net, *.stun.playstation.net, xbox.*.microsoft.com, *.xboxlive.com, *.apple.com, *.battlenet.com.cn, *.battlenet.com, *.blzstatic.cn, *.battle.net
# Hijack DNS
# 默認情況下，Surge 只返回發送到 Surge DNS 地址的 DNS 查詢的假 IP 地址 (198.18.0.2)。
# 有些設備或軟件總是使用硬編碼的 DNS 服務器。 (例如 Google Speakers 總是使用 8.8.8.8)。 您可以使用此選項劫持查詢，以獲得一個假地址。
hijack-dns = 8.8.8.8:53, 8.8.4.4:53
# TCP Force HTTP Hosts
# 讓 Surge 把 TCP 連接當作 HTTP 請求來處理。Surge HTTP 引擎將處理這些請求，所有的高級功能，如捕獲、重寫和腳本等都可以使用。
force-http-engine-hosts = *.cp31.ott.cibntv.net, *.ott.cibntv.net, 119.79*, 124.14*, 124.193*, 211.162*, 220.112*, intl.iqiyi.com, maicai.api.ddxq.mobi, mobileapi-v6.elong.com, weibointl.api.weibo.cn, wmapi.meituan.com, *.cp31.ott.cibntv.net, *.ott.cibntv.net, 119.79*, 124.14*, 124.193*, 211.162*, 220.112*, intl.iqiyi.com, maicai.api.ddxq.mobi, mobileapi-v6.elong.com, weibointl.api.weibo.cn, interface3.music.163.com:80, interface3.music.163.com:443, interface3.music.163.com.163jiasu.com:80, interface3.music.163.com.163jiasu.com:443, vali.cp31.ott.cibntv.net, intl.iqiyi.com, maicai.api.ddxq.mobi, mobileapi-v6.elong.com, wmapi.meituan.com, weibointl.api.weibo.cn, *.ott.cibntv.net
# VIF Excluded Routes
# Surge VIF 只能處理 TCP 和 UDP 協議。使用此選項可以繞過特定的 IP 範圍，允許所有流量通過。
tun-excluded-routes = 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12, 239.255.255.250/32
# VIF Included Routes
# 默認情況下，Surge VIF 接口會聲明自己是默認路由。但是，由於 Wi-Fi 接口的路由較小，有些流量可能不會通過 Surge VIF 接口。使用此選項可以添加一條較小的路由。
tun-included-routes = 192.168.1.12/32
# 當遇到 REJECT 策略時返回錯誤頁
show-error-page-for-reject = false
include-all-networks = false
include-local-networks = false
geoip-maxmind-url = https://github.com/Hackl0us/GeoIP2-CN/raw/release/Country.mmdb
exclude-simple-hostnames = true

[Replica]
keyword-filter-type = whitelist
hide-apple-request = 1
hide-crash-reporter-request = 1

[Rule]
RULE-SET,https://raw.githubusercontent.com/specialmenfo/Surge/master/Personal/Sgmodule/List/ChinaWebsite.list,🎯 全球直連
RULE-SET,https://raw.githubusercontent.com/specialmenfo/Surge/master/Personal/Sgmodule/List/UKWebsite.list,🇬🇧 英國Website
RULE-SET,https://raw.githubusercontent.com/specialmenfo/Surge/master/Personal/Sgmodule/List/JapanWebsite.list,🇯🇵 日本Website
RULE-SET,https://raw.githubusercontent.com/specialmenfo/Surge/master/Personal/Sgmodule/List/BrazilWebsite.list,🇧🇷 巴西Website
RULE-SET,https://raw.githubusercontent.com/specialmenfo/Surge/master/Personal/Sgmodule/List/TaiWanWebsite.list,🇹🇼 台灣Website
RULE-SET,https://raw.githubusercontent.com/specialmenfo/Surge/master/Personal/Sgmodule/List/AmericaWebsite.list,🇺🇸 美國Website
RULE-SET,https://raw.githubusercontent.com/specialmenfo/Surge/master/Personal/Sgmodule/List/RussiaWebsite.list,🇷🇺 俄羅斯Website
RULE-SET,https://raw.githubusercontent.com/specialmenfo/Surge/master/Personal/Sgmodule/List/TurkeyWebsite.list,🇹🇷 土耳其Website
RULE-SET,https://raw.githubusercontent.com/specialmenfo/Surge/master/Personal/Sgmodule/List/HongKongWebsite.list,🇭🇰 香港Website
RULE-SET,https://raw.githubusercontent.com/specialmenfo/Surge/master/Personal/Sgmodule/List/SingaporeWebsite.list,🇸🇬 新加坡Website
RULE-SET,https://raw.githubusercontent.com/specialmenfo/Surge/master/Personal/Sgmodule/List/PhilippinesWebsite.list,🇵🇭 菲律賓Website
RULE-SET,https://raw.githubusercontent.com/specialmenfo/Surge/master/Personal/Sgmodule/List/BiliBiliAuto.list,🌍 BiliBili 換區
RULE-SET,https://raw.githubusercontent.com/specialmenfo/Surge/master/Personal/Sgmodule/List/DAZN.list,🌍 DAZN 專供
RULE-SET,https://raw.githubusercontent.com/specialmenfo/Surge/master/Personal/Sgmodule/List/Viu.list,🌏 Viu 換區
RULE-SET,https://raw.githubusercontent.com/specialmenfo/Surge/master/Personal/Sgmodule/List/HBOGo.list,🌏 HBO Go 國際換區
RULE-SET,https://raw.githubusercontent.com/specialmenfo/Surge/master/Personal/Sgmodule/List/OdysseyEMBY.list,🌍 EMBY 專供
RULE-SET,https://raw.githubusercontent.com/specialmenfo/Surge/master/Personal/Sgmodule/List/Netflix.list,🌍 Netflix 專供
RULE-SET,https://raw.githubusercontent.com/specialmenfo/Surge/master/Personal/Sgmodule/List/Paramount%2B.list,🌏 Paramount+ 換區
RULE-SET,https://raw.githubusercontent.com/specialmenfo/Surge/master/Personal/Sgmodule/List/HBOGo%2B%2B.list,🌏 HBO Go 國際/香港換區
RULE-SET,https://raw.githubusercontent.com/privacy-protection-tools/anti-AD/master/anti-ad-surge.txt,🛑 廣告攔截
DOMAIN-SET,https://raw.githubusercontent.com/privacy-protection-tools/anti-AD/master/anti-ad-surge2.txt,🛑 廣告攔截
PROCESS-NAME,v2ray,🎯 全球直連
PROCESS-NAME,xray,🎯 全球直連
PROCESS-NAME,clash,🎯 全球直連
PROCESS-NAME,naive,🎯 全球直連
PROCESS-NAME,trojan,🎯 全球直連
PROCESS-NAME,trojan-go,🎯 全球直連
PROCESS-NAME,ss-local,🎯 全球直連
PROCESS-NAME,privoxy,🎯 全球直連
PROCESS-NAME,leaf,🎯 全球直連
PROCESS-NAME,Thunder,🎯 全球直連
PROCESS-NAME,DownloadService,🎯 全球直連
PROCESS-NAME,qBittorrent,🎯 全球直連
PROCESS-NAME,Transmission,🎯 全球直連
PROCESS-NAME,fdm,🎯 全球直連
PROCESS-NAME,aria2c,🎯 全球直連
PROCESS-NAME,Folx,🎯 全球直連
PROCESS-NAME,NetTransport,🎯 全球直連
PROCESS-NAME,uTorrent,🎯 全球直連
PROCESS-NAME,WebTorrent,🎯 全球直連
RULE-SET,SYSTEM,🎯 全球直連
RULE-SET,LAN,🎯 全球直連
GEOIP,CN,🎯 全球直連
FINAL,🐟 漏網之魚,dns-failed

[Host]
ip-api.com = 208.95.112.1
pbs.twimg.com = server:23.1.106.237
abs.twimg.com = server:23.1.106.237
*video.iqiyi.com* = server:223.5.5.5
*tw.inter.iqiyi.com* = server:223.5.5.5
*douyin* = server:223.5.5.5
*speedtest* = server:101.101.101.101
*gov.cn* = server:223.5.5.5
*momo* = server:223.5.5.5
*pupuapi* = server:223.5.5.5
*pupu* = server:223.5.5.5
*ddxq* = server:223.5.5.5
*dianping* = server:223.5.5.5
*meituan* = server:223.5.5.5
*189* = server:223.5.5.5
*myqcloud* = server:223.5.5.5
*cn* = server:223.5.5.5
*com.cn* = server:223.5.5.5
*odysseyplus* = server:101.101.101.101
*emby* = server:101.101.101.101
*afreeca* = server:101.101.101.101
*afreecatv* = server:101.101.101.101
*twitch* = server:101.101.101.101
*ttvnw* = server:101.101.101.101
*viki* = server:101.101.101.101
*disco-api* = server:101.101.101.101
*peacocktv* = server:101.101.101.101
*disco* = server:101.101.101.101
*pplusstatic* = server:101.101.101.101
*paramountplus* = server:101.101.101.101
*paramount* = server:101.101.101.101
*toomics* = server:101.101.101.101
*gamer* = server:101.101.101.101
*bahamut* = server:101.101.101.101
*kkbox* = server:101.101.101.101
*kktv* = server:101.101.101.101
*viutv* = server:101.101.101.101
*viu* = server:101.101.101.101
*payppal* = server:101.101.101.101
*payypal* = server:101.101.101.101
*pdncommunity* = server:101.101.101.101
*pp-soc* = server:101.101.101.101
*ppaypal* = server:101.101.101.101
*pppds* = server:101.101.101.101
*pypl* = server:101.101.101.101
*s-xoom* = server:101.101.101.101
*simility* = server:101.101.101.101
*swiftbank* = server:101.101.101.101
*swiftcapital* = server:101.101.101.101
*swiftfinancial* = server:101.101.101.101
*thepaypalshop* = server:101.101.101.101
*theshoppingexpresslane* = server:101.101.101.101
*venmo* = server:101.101.101.101
*webmoneyinfo* = server:101.101.101.101
*wiremoneytoirelandwithxoomeasierandcheaper* = server:101.101.101.101
*wwwxoom* = server:101.101.101.101
*xn--bnq297cix3a* = server:101.101.101.101
*xoom* = server:101.101.101.101
*xoomcom* = server:101.101.101.101
*mywaytopay* = server:101.101.101.101
*pa9pal* = server:101.101.101.101
*paaypal* = server:101.101.101.101
*paily* = server:101.101.101.101
*paipal* = server:101.101.101.101
*pavpal* = server:101.101.101.101
*paydiant* = server:101.101.101.101
*paylike* = server:101.101.101.101
*fundpaypal* = server:101.101.101.101
*getbraintree* = server:101.101.101.101
*gmoney* = server:101.101.101.101
*i-o-u.info* = server:101.101.101.101
*krakenjs* = server:101.101.101.101
*loanbuilder* = server:101.101.101.101
*experiencebillmelater* = server:101.101.101.101
*filipino-music* = server:101.101.101.101
*cash2* = server:101.101.101.101
*card* = server:101.101.101.101
*cashify* = server:101.101.101.101
*buyfast-paysmart* = server:101.101.101.101
*braintree* = server:101.101.101.101
*bml.info* = server:101.101.101.101
*billmelater* = server:101.101.101.101
*bill-safe* = server:101.101.101.101
*beibao* = server:101.101.101.101
*anfutong* = server:101.101.101.101
*paypal* = server:101.101.101.101
*boxofficemojo* = server:101.101.101.101
*cdkworkshop* = server:101.101.101.101
*containersonaws* = server:101.101.101.101
*createspace* = server:101.101.101.101
*elasticbeanstalk* = server:101.101.101.101
*kindle* = server:101.101.101.101
*llnwd* = server:101.101.101.101
*douban* = server:223.5.5.5
*imdb* = server:101.101.101.101
*prime-video* = server:101.101.101.101
*aws* = server:101.101.101.101
*amplifyapp* = server:101.101.101.101
*amplifyframework* = server:101.101.101.101
*aiv* = server:101.101.101.101
*amzn* = server:101.101.101.101
*acmvalidations* = server:101.101.101.101
*acmvalidationsaws* = server:101.101.101.101
*a2z* = server:101.101.101.101
*aesworkshops* = server:101.101.101.101
*alexa* = server:101.101.101.101
*gameon-masters* = server:101.101.101.101
*primeday* = server:101.101.101.101
*yamaxun* = server:101.101.101.101
*cloudfront* = server:101.101.101.101
*amazon* = server:101.101.101.101
*aiv-cdn* = server:101.101.101.101
*aiv-delivery* = server:101.101.101.101
*amazonvideo* = server:101.101.101.101
*media-amazon* = server:101.101.101.101
*primevideo* = server:101.101.101.101
*112263* = server:101.101.101.101
*hulu* = server:101.101.101.101
*callhulu* = server:101.101.101.101
*conviva* = server:101.101.101.101
*findyourlimits* = server:101.101.101.101
*freehulu* = server:101.101.101.101
*hoolu* = server:101.101.101.101
*hu1u* = server:101.101.101.101
*huloo* = server:101.101.101.101
*joinmaidez* = server:101.101.101.101
*mushymush* = server:101.101.101.101
*myhulu* = server:101.101.101.101
*originalhulu* = server:101.101.101.101
*payhulu* = server:101.101.101.101
*hjholdings* = server:101.101.101.101
*registerhulu* = server:101.101.101.101
*thehulubraintrust* = server:101.101.101.101
*wwwhuluplus* = server:101.101.101.101
*hbomax* = server:101.101.101.101
*hbomaxcdn* = server:101.101.101.101
*hbonow* = server:101.101.101.101
*maxgo* = server:101.101.101.101
*cinemax* = server:101.101.101.101
*warnermediacdn* = server:101.101.101.101
*brightcove* = server:101.101.101.101
*evergent* = server:101.101.101.101
*onwardsmg* = server:101.101.101.101
*boltdns* = server:101.101.101.101
*amazonaws* = server:101.101.101.101
*hbogoasia* = server:101.101.101.101
*discord* = server:101.101.101.101
*naver* = server:101.101.101.101
*line* = server:101.101.101.101
*whatsapp* = server:101.101.101.101
*outlook* = server:101.101.101.101
*hotmail* = server:101.101.101.101
*yandex* = server:101.101.101.101
*office365* = server:101.101.101.101
*disney* = server:101.101.101.101
*disneyplus* = server:101.101.101.101
*nflxvideo* = server:101.101.101.101
*nflxso* = server:101.101.101.101
*netflix* = server:101.101.101.101
*dropbox* = server:101.101.101.101
*tidal* = server:101.101.101.101
*instagram* = server:101.101.101.101
*ytimg* = server:101.101.101.101
*google* = server:101.101.101.101
*youtube* = server:101.101.101.101
*twimg* = server:101.101.101.101
*facebook* = server:101.101.101.101
*twitter* = server:101.101.101.101
*qq* = server:119.28.28.28
*wechat* = server:119.28.28.28
*alipay* = server:223.5.5.5
*alicdn* = server:223.5.5.5
*aliyun* = server:223.5.5.5
*amemv* = server:223.5.5.5
*gov.mo* = server:101.101.101.101
*nextdns* = server:101.101.101.101
*microsoft* = server:101.101.101.101
*live* = server:101.101.101.101
*tw* = server:101.101.101.101
*comments* = server:101.101.101.101
*graph* = server:101.101.101.101
*stel* = server:101.101.101.101
*t.me* = server:101.101.101.101
*tdesktop* = server:101.101.101.101
*telega* = server:101.101.101.101
*telegram* = server:101.101.101.101
*telegramdownload* = server:101.101.101.101
*telesco* = server:101.101.101.101
*tg* = server:101.101.101.101
*tx.me* = server:101.101.101.101
109.239.140.0 = server:101.101.101.101
149.154.160.0 = server:101.101.101.101
185.76.151.0 = server:101.101.101.101
91.105.192.0 = server:101.101.101.101
91.108.0.0 = server:101.101.101.101
95.161.64.0 = server:101.101.101.101
2001:67c:4e8:: = server:101.101.101.101
2001:b28:f23c:: = server:101.101.101.101
2001:b28:f23f:: = server:101.101.101.101
2a0a:f280:: = server:101.101.101.101
*nekox* = server:101.101.101.101
*org.telegram* = server:101.101.101.101
*telegram* = server:101.101.101.101
*atom.io* = server:101.101.101.101
*dependabot* = server:101.101.101.101
*ghcr.io* = server:101.101.101.101
*git.io* = server:101.101.101.101
*github* = server:101.101.101.101
*githubapp* = server:101.101.101.101
*githubassets* = server:101.101.101.101
*githubhackathon* = server:101.101.101.101
*githubpreview* = server:101.101.101.101
*githubstatus* = server:101.101.101.101
*myoctocat* = server:101.101.101.101
*community* = server:101.101.101.101
*npmjs* = server:101.101.101.101
*rawgit* = server:101.101.101.101
*rawgithub* = server:101.101.101.101
*thegithubshop* = server:101.101.101.101
*githubusercontent* = server:101.101.101.101
*gmail* = server:101.101.101.101
*googleapis* = server:101.101.101.101
*google* = server:101.101.101.101
*apple* = server:223.5.5.5
*cloudflare* = server:101.101.101.101
ip-api.com = 208.95.112.1
*taobao* = server:223.5.5.5
*jd* = server:223.5.5.5
*tmall* = server:223.5.5.5
*example* = server:https://cloudflare-dns.com/dns-query
*126.com* = server:119.29.29.29
*126.net* = server:119.29.29.29
*127.net* = server:119.29.29.29
*163.com* = server:119.29.29.29
*126* = server:119.29.29.29
*127* = server:119.29.29.29
*163* = server:119.29.29.29
*alicdn* = server:223.5.5.5
*aliyun* = server:223.5.5.5
*baidu* = server:223.5.5.5
*baidu* = server:syslib
*bdstatic* = server:syslib
*bilibili* = server:119.29.29.29
*jd.com* = server:119.28.28.28
*mi.com* = server:119.29.29.29
*netease* = server:119.29.29.29
*pcbeta* = 120.52.19.113
*qpic* = server:119.28.28.28
*qq* = server:119.28.28.28
*tencent* = server:119.28.28.28
*wechat* = server:119.28.28.28
*weixin* = server:119.28.28.28
*xiaomi* = server:119.29.29.29
cdn.pcbeta.attachment.inimc.com = 120.52.19.113
cdn.pcbeta.css.inimc.com = 120.52.19.113
cdn.pcbeta.static.inimc.com = 120.52.19.113
hdslb.com = server:119.29.29.29
api.cloudflareclient.com = server:1.1.1.1

[URL Rewrite]
# 只作用於Apple Maps，不修改定位服務和地區檢測，可以通過搭配使用其他模塊達成混合效果
# Redirect Apple Maps to 🇺🇳I18N
^https?:\/\/gspe\d*-ssl\.ls\.apple\.)(com|cn)(\/.*)(country_code=[A-Z]{2})(.*) $1$2$3country_code=CN$5 header
^https?:\/\/gspe\d*-ssl\.ls\.apple\.)(com|cn)(\/.*)(environment=[a-z/-]{4,})(.*) $1$2$3environment=prod$5 header

[Script]
# 騰訊視頻 *.video.qq.com
# 1.手機瀏覽器訪問並登錄: https://film.qq.com/
videoqq.cookie.js = script-path=https://raw.githubusercontent.com/specialmenfo/Surge/master/Personal/Sgmodule/JS/TVideo/videoqq.cookie.js,type=http-request,pattern=^https:\/\/access.video.qq.com\/user\/auth_refresh
videoqq.js = script-path=https://raw.githubusercontent.com/specialmenfo/Surge/master/Personal/Sgmodule/JS/TVideo/videoqq.js,type=cron,cronexp=10 0 0 * * *
# 愛奇藝
# Safari瀏覽器打開 https://m.iqiyi.com/user.html 使用密碼登錄, 如通知成功獲取cookie則可使用該腳本
愛奇藝簽到 = type=cron,cronexp=10 10 0 * * *,timeout=120,script-path=https://raw.githubusercontent.com/specialmenfo/Surge/master/Personal/Sgmodule/JS/iQIYI.js,script-update-interval=0
愛奇藝獲取Cookie = type=http-request,pattern=^https:\/\/passport\.iqiyi\.com\/apis\/user\/info\.action,script-path=https://raw.githubusercontent.com/specialmenfo/Surge/master/Personal/Sgmodule/JS/iQIYI.js,requires-body=0,script-update-interval=0
# Sub-Store
# 訪問https://sub-store.vercel.app/?#/管理
Sub-Store = type=http-request,pattern=^https?:\/\/sub\.store,script-path=https://raw.githubusercontent.com/specialmenfo/Surge/master/Personal/Sgmodule/JS/Peng-YM-sub-store.min.js,requires-body=true,timeout=120,max-size=131072
# TestFlight解除區域限制
TestFlight Unlock = type=http-request,pattern=^https?:\/\/testflight\.apple\.com\/v\d\/accounts\/.+?\/install$,requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/specialmenfo/Surge/master/Personal/Sgmodule/JS/TestFlight_Unlock.js
# 嗶哩嗶哩, 港澳台番劇自動切換地區 & 顯示豆瓣評分
Bili Region = type=http-response,pattern=^https:\/\/ap(p|i)\.bilibili\.com\/(pgc\/view\/(v\d\/)?app|x(\/v\d)?\/view\/video)\/(season|online)\?access_key,requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/specialmenfo/Surge/master/Personal/Sgmodule/JS/Bili_Auto_Regions.js,script-update-interval=0
# 可選, 適用於搜索指定地區的番劇
# 如需搜索指定地區番劇, 可在搜索框添加後綴" 港", " 台", " 中". 例如: 進擊的巨人 港(後面空格加上港、台、中）
# 台灣動漫需要以繁體中文搜索 否則搜不出來
Bili Search = type=http-request,pattern=^https:\/\/app\.bilibili\.com\/x\/v\d\/search(\/type)?\?.+?%20(%E6%B8%AF|%E5%8F%B0|%E4%B8%AD)&,script-path=https://raw.githubusercontent.com/specialmenfo/Surge/master/Personal/Sgmodule/JS/Bili_Auto_Regions.js,requires-body=0,script-update-interval=0
# Netflix評分
netflix_rating.js = script-path=https://raw.githubusercontent.com/specialmenfo/Surge/master/Personal/Sgmodule/JS/netflix_rating.js,type=http-request,pattern=^https?://ios\.prod\.ftl\.netflix\.com/iosui/user/.+path=%5B%22videos%22%2C%\d+%22%2C%22summary%22%5D
netflix_rating.js = requires-body=1,script-path=https://raw.githubusercontent.com/specialmenfo/Surge/master/Personal/Sgmodule/JS/netflix_rating.js,type=http-response,pattern=^https?://ios\.prod\.ftl\.netflix\.com/iosui/user/.+path=%5B%22videos%22%2C%\d+%22%2C%22summary%22%5D
# EMBY 破解
EmbyPremiere = type=http-response,script-path=https://subweb.s3.fr-par.scw.cloud/Script/embyPremiere.js,pattern=^https?:\/\/mb3admin.com\/admin\/service\/registration\/validateDevice,max-size=131072,requires-body=1,timeout=10,enable=true,script-update-interval=0
# Spotify Premium
spotify-proto = type=http-response,pattern=^https:\/\/spclient\.wg\.spotify\.com\/(bootstrap\/v1\/bootstrap|user-customization-service\/v1\/customize)$,requires-body=1,binary-body-mode=1,max-size=0,script-path=https://raw.githubusercontent.com/specialmenfo/Surge/master/Personal/Sgmodule/JS/app2smile-spotify-proto.js,script-update-interval=0
# 彩雲天氣_SVIP
彩雲天氣_SVIP = type=http-response,requires-body=1,max-size=0,pattern=https?:\/\/biz\.caiyunapp\.com\/(membership_rights|v2\/user),script-path=https://raw.githubusercontent.com/specialmenfo/Surge/master/Personal/Sgmodule/JS/nxyd_caiyun_svip.js
# 酷我VIP
酷我vip解鎖 = type=http-response,pattern=^https?:\/\/vip1\.kuwo\.cn\/(vip\/v2\/user\/vip|vip\/spi/mservice),requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/specialmenfo/Surge/master/Personal/Sgmodule/JS/Kuwo.js,script-update-interval=0
# 百度防跳轉App Store
百度防跳轉 = type=http-response,pattern=^https:\/\/boxer\.baidu\.com\/scheme\?scheme,script-path=https://raw.githubusercontent.com/specialmenfo/Surge/master/Personal/Sgmodule/JS/app2smile_baidu-no-redirect.js
# 京東
# 獲取 Cookie: https://bean.m.jd.com/bean/signIndex.action
# 使用方法：複製上方網址到瀏覽器打開 ，點擊個人中心自動獲取 cookie
# 獲取京東金融簽到Body Cookie 說明: 正確添加腳本配置後, 進入"京東金融"APP, 在"首頁"點擊"簽到"並簽到一次, 待通知提示成功即可.
# 由於cookie的有效性(經測試網頁Cookie有效週期最長31天)，如果腳本後續彈出cookie無效的通知，則需要重復上述步驟。
# 若彈出成功則正常使用。否則繼續再此頁面繼續刷新一下試試。
# 如果還不行，請使用Safari瀏覽器打開登錄 https://home.m.jd.com/myJd/newhome.action 點擊"我的"頁面
# 或者使用 https://home.m.jd.com/myJd/newhome.action 點擊簽到並且出現簽到日曆
# 如果通知獲取Cookie成功, 則可以使用此簽到腳本. 注: 請勿在京東APP內獲取!!!
京東多合一簽到 = type=cron,cronexp=0 0 0 * * *,wake-system=1,timeout=60,script-path=https://raw.githubusercontent.com/specialmenfo/Surge/master/Personal/Sgmodule/JS/JD/JD_DailyBonus.js,script-update-interval=0
獲取京東Cookie = type=http-request,requires-body=1,pattern=^https:\/\/(api\.m|me-api|ms\.jr)\.jd\.com\/(client\.action\?functionId=signBean|user_new\/info\/GetJDUserInfoUnion\?|gw\/generic\/hy\/h5\/m\/appSign\?),script-path=https://raw.githubusercontent.com/specialmenfo/Surge/master/Personal/Sgmodule/JS/JD/JD_DailyBonus.js,max-size=0,script-update-interval=0
# Enable All TV app Tabs
Apple_TV.js = script-path=https://raw.githubusercontent.com/VirgilClyne/iRingo/main/js/Apple_TV.js,requires-body=1,timeout=3,tag=Apple_TV,type=http-response,pattern=^https?:\/\/(uts-api\.itunes\.apple\.com|uts-api-cdn\.itunes-apple\.com\.akadns\.net|uts-api\.itunes\.apple\.com\.edgesuite\.net|a1956\.dscb\.akamai\.net)\/uts\/(v1|v2|v3)\/configurations\?.*,max-size=0,script-update-interval=0
# TV app Tabs, Redirect Desktop Platform to AppleTV, Redirect Sports and Kids Tabs StoreFront to US (143441)
Apple_TV.js = script-path=https://raw.githubusercontent.com/VirgilClyne/iRingo/main/js/Apple_TV.js,timeout=3,tag=Apple_TV,type=http-request,pattern=^https?:\/\/(uts-api\.itunes\.apple\.com|uts-api-cdn\.itunes-apple\.com\.akadns\.net|uts-api\.itunes\.apple\.com\.edgesuite\.net|a1956\.dscb\.akamai\.net)\/uts\/(v1|v2|v3)\/canvases\/Roots\/(watchNow|tahoma_watchnow|movies|tv|sports|kids)\?.*,requires-body=0,script-update-interval=0
# TV app movies and shows and sports infomation Webs, Redirect Desktop Platform to AppleTV
Apple_TV.js = script-path=https://raw.githubusercontent.com/VirgilClyne/iRingo/main/js/Apple_TV.js,timeout=3,tag=Apple_TV,type=http-request,pattern=^https?:\/\/(uts-api\.itunes\.apple\.com|uts-api-cdn\.itunes-apple\.com\.akadns\.net|uts-api\.itunes\.apple\.com\.edgesuite\.net|a1956\.dscb\.akamai\.net)\/uts\/(v1|v2|v3)\/(movies|shows|sports|sporting-events).*,requires-body=0,script-update-interval=0
# TV UpNext, Redirect Desktop Platform to AppleTV
Apple_TV.js = script-path=https://raw.githubusercontent.com/VirgilClyne/iRingo/main/js/Apple_TV.js,timeout=3,tag=Apple_TV,type=http-request,pattern=^https?:\/\/(uts-api\.itunes\.apple\.com|uts-api-cdn\.itunes-apple\.com\.akadns\.net|uts-api\.itunes\.apple\.com\.edgesuite\.net|a1956\.dscb\.akamai\.net)\/uts\/(v1|v2|v3)\/shelves\/uts.col.UpNext.*,requires-body=0,script-update-interval=0
# TV channels, Redirect StoreFront to US (143441)
Apple_TV.js = script-path=https://raw.githubusercontent.com/VirgilClyne/iRingo/main/js/Apple_TV.js,timeout=3,tag=Apple_TV,type=http-request,pattern=^https?:\/\/(uts-api\.itunes\.apple\.com|uts-api-cdn\.itunes-apple\.com\.akadns\.net|uts-api\.itunes\.apple\.com\.edgesuite\.net|a1956\.dscb\.akamai\.net)\/uts\/(v1|v2|v3)\/brands\?.*,requires-body=0,script-update-interval=0
# TV Live Playables, Redirect StoreFront to US (143441)
Apple_TV.js = script-path=https://raw.githubusercontent.com/VirgilClyne/iRingo/main/js/Apple_TV.js,timeout=3,tag=Apple_TV,type=http-request,pattern=^https?:\/\/(uts-api\.itunes\.apple\.com|uts-api-cdn\.itunes-apple\.com\.akadns\.net|uts-api\.itunes\.apple\.com\.edgesuite\.net|a1956\.dscb\.akamai\.net)\/uts\/(v1|v2|v3)\/playables.*,requires-body=0,script-update-interval=0
# TV Favorites Teams web, Redirect StoreFront to US (143441)
Apple_TV.js = script-path=https://raw.githubusercontent.com/VirgilClyne/iRingo/main/js/Apple_TV.js,timeout=3,tag=Apple_TV,type=http-request,pattern=^https?:\/\/(uts-api\.itunes\.apple\.com|uts-api-cdn\.itunes-apple\.com\.akadns\.net|uts-api\.itunes\.apple\.com\.edgesuite\.net|a1956\.dscb\.akamai\.net)\/uts\/(v1|v2|v3)\/favorites\?.*,requires-body=0,script-update-interval=0
# TV Watchlist Function, Redirect desktop Platform to iPad
Apple_TV.js = script-path=https://raw.githubusercontent.com/VirgilClyne/iRingo/main/js/Apple_TV.js,timeout=3,tag=Apple_TV,type=http-request,pattern=^https?:\/\/(uts-api\.itunes\.apple\.com|uts-api-cdn\.itunes-apple\.com\.akadns\.net|uts-api\.itunes\.apple\.com\.edgesuite\.net|a1956\.dscb\.akamai\.net)\/uts\/(v1|v2|v3)\/watchlist.*,requires-body=0,script-update-interval=0
# Enable TV Favorites Teams Function, Redirect StoreFront to US (143441)
Apple_TV.js = script-path=https://raw.githubusercontent.com/VirgilClyne/iRingo/main/js/Apple_TV.js,requires-body=1,timeout=3,tag=Apple_TV,type=http-request,pattern=^https?:\/\/(uts-api\.itunes\.apple\.com|uts-api-cdn\.itunes-apple\.com\.akadns\.net|uts-api\.itunes\.apple\.com\.edgesuite\.net|a1956\.dscb\.akamai\.net)\/uts\/(v1|v2|v3)\/favorites\/(add|remove).*,max-size=0,script-update-interval=0
# TV Product View, no Redirect
// Apple_TV.js = script-path=https://raw.githubusercontent.com/VirgilClyne/iRingo/main/js/Apple_TV.js,timeout=3,tag=Apple_TV,type=http-request,pattern=^https?:\/\/(uts-api\.itunes\.apple\.com|uts-api-cdn\.itunes-apple\.com\.akadns\.net|uts-api\.itunes\.apple\.com\.edgesuite\.net|a1956\.dscb\.akamai\.net)\/uts\/(v1|v2|v3)\/view\/product\/.*
# Apple Weather
Apple_Weather.js = script-path=https://raw.githubusercontent.com/VirgilClyne/iRingo/main/js/Apple_Weather.beta.js,requires-body=1,tag=Apple_Weather,type=http-response,pattern=^https?:\/\/weather-data\.apple\.com\/(v1|v2)\/weather.*(?!dataSets=forecastNextHour)(include=.*air_quality.*|dataSets=.*airQuality.*).*(country=[A-Z]{2})?.*,max-size=0,script-update-interval=0
# 修改定位服務(Location Services)配置文件(Configs)和GCC(Geo Country Code)檢測結果
# Response Location Services Geo Country Code Check Result to US
Location_Services.beta = type=http-request,pattern=^https?:\/\/gspe\d*-ssl\.ls\.apple\.com(\/pep\/gcc),requires-body=0,binary-body-mode=0,max-size=0,script-update-interval=0,argument=GeoCountryCode=US,script-path=https://raw.githubusercontent.com/VirgilClyne/iRingo/beta/js/Location_Services.beta.js
# Rewrite Location Services Configuration Functions Internationalization
Location_Services.beta = type=http-request,pattern=^https?:\/\/configuration\.ls\.apple\.com(\/config\/defaults\?).*,requires-body=0,binary-body-mode=0,max-size=0,script-update-interval=0,script-path=https://raw.githubusercontent.com/VirgilClyne/iRingo/beta/js/Location_Services.beta.js
Location_Services.beta = type=http-response,pattern=^https?:\/\/configuration\.ls\.apple\.com(\/config\/defaults\?).*,requires-body=1,binary-body-mode=0,max-size=0,script-update-interval=0,argument=EnableAlberta=false&GEOAddressCorrectionEnabled=true&LocalitiesAndLandmarksSupported=true&PedestrianAREnabled=true&ShouldEnableLagunaBeach=true,script-path=https://raw.githubusercontent.com/VirgilClyne/iRingo/beta/js/Location_Services.beta.js
# Rewrite AutoNavi Dispatcher from com.apple.compass
Location_Services.beta = type=http-request,pattern=^https?:\/\/dispatcher\.is\.autonavi\.com(\/dispatcher),requires-body=1,binary-body-mode=1,max-size=0,script-update-interval=0,script-path=https://raw.githubusercontent.com/VirgilClyne/iRingo/beta/js/Location_Services.beta.js
# 在聚焦搜索(Spotlight)和查詢(Look Up)中啓用Siri建議(Siri Suggestions)功能
# Redirect Siri Suggestions Service
# Bag (iOS/macOS)
Siri_Suggestions.js = script-path=https://raw.githubusercontent.com/VirgilClyne/iRingo/beta/js/Siri_Suggestions.js,timeout=3,tag=Siri_Suggestions,type=http-request,pattern=^https?:\/\/api.*\.smoot\.apple\.(com|cn)\/bag\?(.*)
# Spotlight & Look Up Search (iOS/macOS)
Siri_Suggestions.js = script-path=https://raw.githubusercontent.com/VirgilClyne/iRingo/beta/js/Siri_Suggestions.js,timeout=3,tag=Siri_Suggestions,type=http-request,pattern=^https?:\/\/api.*\.smoot\.apple\.(com|cn)\/search\?(.*)
# Siri Infomation Card (macOS)
Siri_Suggestions.js = script-path=https://raw.githubusercontent.com/VirgilClyne/iRingo/beta/js/Siri_Suggestions.js,timeout=3,tag=Siri_Suggestions,type=http-request,pattern=^https?:\/\/api.*\.smoot\.apple\.(com|cn)\/card\?(.*)
# 解鎖🇺🇸US地區的News，注：需配合域名集使用，使用過程中gateway.icloud.com需走代理線路
Apple_News.js = script-path=https://raw.githubusercontent.com/VirgilClyne/iRingo/beta/js/Apple_News.js,requires-body=true,tag=Apple_News,type=http-request,pattern=^https?:\/\/news-(edge|events)\.apple\.com\/(v1\/configs|analyticseventsv2\/async).*
Apple_News.js = script-path=https://raw.githubusercontent.com/VirgilClyne/iRingo/beta/js/Apple_News.js,tag=Apple_News,type=http-request,pattern=^https?:\/\/news-(client-search)\.apple\.com\/(v1\/search\?).*

[MITM]
tcp-connection = true
hostname = %INSERT% m.gdoil.cn, sub.store, ap?.bilibili.com, ios-*.prod.ftl.netflix.com, ios.prod.ftl.netflix.com, app.bilibili.com, grpc.biliapi.net, api.bilibili.com, app.bilibili.com, api.live.bilibili.com, spclient.wg.spotify.com, biz.caiyunapp.com, vip1.kuwo.cn, *.baidu.com, boxer.baidu.com, magev6.if.qidian.com, api.zhihu.com, www.zhihu.com, api-access.pangolin-sdk-toutiao.com, news.ssp.qq.com, r.inews.qq.com, us.l.qq.com, mi.gdt.qq.com, h5.ele.me, ccsp-egmas.sf-express.com, music.163.com, ms.jr.jd.com, me-api.jd.com, api.m.jd.com, ifac*.iqiyi.com, *.video.qq.com, maicai.api.ddxq.mobi, testflight.apple.com, pan.baidu.com, www.zhihu.com, api.zhihu.com, zhuanlan.zhihu.com, appcloud2.zhihu.com, api.weibo.cn, mapi.weibo.com, *.uve.weibo.com, mb3admin.com, -*snssdk.com, -*amemv.com, j-image.missfresh.cn, m.ads.8le8le.com, iadmusicmat.music.com, ma-adx.ctrip.com, m.ctrip.com, appconf.mail.163.com, analytics.163.com, api.21jingji.com, service.4gtv.tv, app.58.com, pic?.ajkimg.com, gw.alicdn.com, acs.m.taobao.com, m*.amap.com, gw.kaola.com, api-new.app.acfun.cn, issuecdn.baidupcs.com, newclient.map.baidu.com, mime.baidu.com, app.api.ke.com, m.client.10010.com, cloud.189.cn, www.cntv.com, api.chelaile.net.cn, web.chelaile.net.cn, app-gw.csdn.net, m.ctrip.com, app.dewu.com, api.douban.com, rtbapi.douyucdn.cn, api.dangdang.com, e.dangdang.com, daoyu.sdo.com, capis*.didapinche.com, *-release.wuta-cam.com, *.googlevideo.com, www.youtube.com, s.youtube.com, business.msstatic.com, ib-soft.net, list-app-m.i4.cn, api.jxedt.com, *.kakamobi.cn, *.kingsoft-office-service.com, api.gotokeep.com, api.kkmh.com, api.m.mi.com, api.jr.mi.com, api-mifit.huami.com, home.mi.com, appconf.mail.163.com, interface*.music.163.com, support.you.163.com, p.du.163.com, gfp.veta.naver.com, tqt.weibo.cn, *.k.sohu.com, *.tv.sohu.com, ap*.smzdm.com, gw-passenger.01zhuanche.com, mpcs.suning.com, ccsp-egmas.sf-express.com, shopic.sf-express.com, m.tuniu.com, img*.10101111cdn.com, msg.umengcloud.com, api.vuevideo.net, thor.weidian.com, api.waitwaitpay.com, api.xiachufang.com, api.yizhibo.com, a.qiumibao.com, *.zhuishushenqi.com, syh.zybang.com, api.izuiyou.com, tiku.zhan.com, bank.wo.cn, cdn.kuaidi100.com, clientaccess.10086.cn, cloud.189.cn, connect.facebook.net, fb.fbstatic.cn, m1.ad.10010.com, mp.weixin.qq.com, mps.95508.com, p.kuaidi100.com, pic1cdn.cmbchina.com, res.mall.10010.cn, s3plus.meituan.net, mobile-pic.cache.iciba.com, dict-mobile.iciba.com, service.iciba.com, smusic.app.wechat.com, szextshort.weixin.qq.com, thor.weidian.com, tiasdk.app.wechat.com, wmapi.meituan.com, www.cmbc.com.cn, zjh5api.189smarthome.com, zt-app.go189.cn, flowplus.meituan.net, img.meituan.net, p*.meituan.net, basejumper.apple.com, mesu.apple.com, lcdn-registration.apple.com, init.ess.apple.com, init-p01md.apple.com, cdn.apple-mapkit.com, gs-loc.apple.com, gs-loc-cn.apple.com, cl4-cn.apple.com, *.smoot.apple.com, *.smoot.apple.cn, lookup-api.apple.com, *.ls.apple.com, *.is.autonavi.com, c.apple.news, news-assets.apple.com, news-client.apple.com, news-client-search.apple.com, news-edge.apple.com, news-events.apple.com, newsletter-edge.apple.com, weather-data.apple.com, weather-data-origin.apple.com, weather-map.apple.com, weather-edge.apple.com, apple-finance.query.yahoo.com, stocks-sparkline.apple.com, stocks-edge.apple.com, upp.itunes.apple.com, sb.music.apple.com, js-cdn.music.apple.com, p42-mailws.icloud.com, p42-contacts.icloud.com, p68-caldav.icloud.com, p68-availability.icloud.com, p68-fmf.icloud.com, p68-fmfmobile.icloud.com, p68-streams.icloud.com, p102-acsegateway.icloud.com, -amp-api.videos.apple.com, -music.apple.com, -amp-api.music.apple.com, -bag.itunes.apple.com, -init.itunes.apple.com, -play.itunes.apple.com, -pd.itunes.apple.com, -se2.itunes.apple.com, -sp.itunes.apple.com, -client-api.itunes.apple.com, -configuration.apple.com, -swallow.apple.com, -cl4.apple.com, -cl5.apple.com, -updates.cdn-apple.com, -smp-device-content.apple.com, -pr-pod2-smp-device.apple.com, -init.homekit.push.apple.com, -*.fitness.apple.com, -gateway.icloud.com, -metrics.icloud.com, -metrics-config.icloud.com, -p68-fmip.icloud.com, -p102-quota.icloud.com, -p102-content.icloud.com, -*.icloud-content.com, -*.mzstatic.com, ccsp-egmas.sf-express.com, passport.iqiyi.com, uts-api.itunes.apple.com, uts-api-cdn.itunes-apple.com.akadns.net, uts-api.itunes.apple.com.edgesuite.net, a1956.dscb.akamai.net, mp.weixin.qq.com, *.media.dssott.com, *.media.starott.com, *.api.hbo.com, *.hbomaxcdn.com, *.nflxvideo.net, *.cbsaavideo.com, *.cbsivideo.com, *.youtube.com, mb3admin.com
